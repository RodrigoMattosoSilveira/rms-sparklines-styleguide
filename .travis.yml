language: node.js
node_js:
- 8.11.1
script: "./setup.sh"
sudo: required
dist: trusty
addons:
  chrome: stable
install: npm install
before_script:
- sudo chown root /opt/google/chrome/chrome-sandbox
- sudo chmod 4755 /opt/google/chrome/chrome-sandbox
scripts:
- ng e2e
- ng build --aot -prod
after_script:
- chmod +x publish-gh-pages.sh && ./publish-gh-pages.sh
deploy:
  provider: heroku
  app: rms-sparklines-styleguide
  api_key:
    secure: Y9uiORJa0v4Uz8IReAZVsYyoYm1i5NOFmBu6zpwCyqktqOwNHQHoHMw+jnp0Jc8kJmcgt9sr3dOCp3zBfeQFJbqD+sRRvrYqVyt8y8uQAmDDeIfyeXBZ3OjoEpWmtvBMmz9IM7l2QQgWrFWr7fAWrqv29YHoRM8oG8SL0TJEIFLy8X5gViNIJi0XNUjPzQ9pkdXaQjvFcDmtI3EmQOA8eQv3ZvDtEeNOymi7fjklftu8SzIvFXOsmutVxlM9B+S6na3ZEnDfvV0xCfczka/n4+NXrtRgmNntcJTp9zCTsNOC/MT/b3IivQdiBEJE4ZJWW2RX7iksZ4fU+aTteWdLiWA4uXRNstJ+i1P1rx5bgiIrcfdMRV169x4hFNi9Sa1SUxXlfXqJx7CVyhGRN27sMvcyg0u4JX9co81oMgyWW1xr6woZP8EnPGc0HmZk/LRcc0pr3PPts3F+47XwfKBBFCB8AzyEwXLBd0FHNqY2SX20mMrDrwb9g5fa28qxAhSufSzMA25DD8arsrZ3UapS+uU9DckVCTEKxPAQcemUqV+1/mLkiohtX6+3LOPVVjOLeYX03WrIStVxrUExr6mB6oyurdavrnGiUwmjFHfljfCqovM1hArEweGhmCZJc6Oj8JRyKwyoZeI/uq/Xm+qmCqFlTKkhM2rsViWOIn8nKC0=
  email: r3850365@gmail.com@gmail.com
  on:
    repo: RodrigoMattosoSilveira/rms-sparklines-styleguide
branches:
  only:
  - master
